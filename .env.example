# ================================
# GRIND Backend - Variables de Entorno
# ================================

# Base de datos MongoDB
MONGODB_URI=mongodb://localhost:27017/tienda_online
# Para MongoDB Atlas (reemplazar con tus credenciales):
# MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/tienda_online?retryWrites=true&w=majority&appName=GrindApp

# JWT Configuration
JWT_SECRET=generar_con_crypto_randomBytes_64_toString_hex_minimo_32_caracteres
JWT_EXPIRES_IN=7d

# Server Configuration
PORT=5000
NODE_ENV=development

# Cloudinary (para subida de imágenes)
# Obtener credenciales en: https://cloudinary.com/
CLOUDINARY_CLOUD_NAME=tu_cloud_name
CLOUDINARY_API_KEY=tu_api_key
CLOUDINARY_API_SECRET=tu_api_secret

# CORS Configuration (orígenes permitidos separados por coma)
# Soporta comodines de subdominio como *.vercel.app, *.koyeb.app
# Ejemplo: http://localhost:3000,https://mi-frontend.com,*.vercel.app,*.koyeb.app
ALLOWED_ORIGINS=http://localhost:3000,*.vercel.app,*.koyeb.app

# URL del Frontend (para referencias en el backend)
FRONTEND_URL=http://localhost:3000

# Swagger en producción (true/false). Por defecto solo se habilita en desarrollo
SWAGGER_ENABLED=false

# Ejecutar seeds automáticamente al iniciar el servidor (solo desarrollo)
# Valores: true/false - NUNCA usar en producción
SEED_ON_START=false

# CORS: permitir cualquier origen (usar solo si realmente lo necesitas)
# true => cualquier dominio puede llamar a la API
# false => usar ALLOWED_ORIGINS (RECOMENDADO)
CORS_ALLOW_ALL=false

# ================================
# CONFIGURACIÓN PARA KOYEB
# ================================

# Configuración específica para producción en Koyeb
# MongoDB Connection Settings
MONGODB_SERVER_SELECTION_TIMEOUT=30000
MONGODB_SOCKET_TIMEOUT=45000
MONGODB_CONNECT_TIMEOUT=30000

# Logging Level para producción
LOG_LEVEL=info

# Debug mode (solo para debugging temporal)
# DEBUG=mongoose:connection

# ================================
# EJEMPLO PARA PRODUCCIÓN EN KOYEB:
# ================================
# NODE_ENV=production
# PORT=8000
# MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/tienda_online?retryWrites=true&w=majority&appName=GrindApp
# JWT_SECRET=tu_jwt_secret_super_largo_y_seguro_de_64_caracteres_minimo
# ALLOWED_ORIGINS=https://tu-frontend.koyeb.app,https://tu-dominio.com
# FRONTEND_URL=https://tu-frontend.koyeb.app
# SWAGGER_ENABLED=false
# SEED_ON_START=false
# CORS_ALLOW_ALL=false

# ================================
# NOTAS IMPORTANTES:
# ================================
# 1. Copiar este archivo como .env
# 2. Reemplazar todos los valores placeholder
# 3. Generar JWT_SECRET seguro:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 4. No commitear el archivo .env al repositorio
# 5. Para producción, usar valores seguros y HTTPS
# 6. En MongoDB Atlas: Network Access → Add IP → 0.0.0.0/0 (Allow from anywhere)
# 7. Verificar usuario de MongoDB tenga permisos de lectura/escritura
# ================================
